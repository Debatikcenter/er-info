---
layout: null
---
{
  "nodes": [
    {% for person in site.persons %}{"id": "{{ person.name | replace: ' ', '.' }}", "name": "{{ person.name }}", "type": "{{ person.type }}", "tagline": "{{ person.tagline | join: ', ' }}", "description": "{{ person.description }}", "related-persons": "{{ person.related-persons }}", "connections": "{{ person.connections }}" }{% unless forloop.last %},{% endunless %}
    {% endfor %}],
  {% capture list %}{% for project in site.projects %}{% assign persons = project.related-persons | split:", " | sort %}{% for person in persons %}{% assign i1 = forloop.index %}{% for p2 in persons %}{% assign i2 = forloop.index %}{% if i2 > i1 %}{{ person | replace: ' ', '.' }},{{ p2 | replace: ' ', '.' }},{{ project.name }},1^{% endif %}{% endfor %}{% endfor %}{% endfor %}{% endcapture %}

  {% assign thelist = list | split: "^" %}

  "links": [
    {% for item in thelist %}{% assign this = item | split: "," %}{% unless forloop.last %}{ "source": "{{ this[0] }}", "target": "{{ this[1] }}", "projects": "{{ this[2] }}", "value":"{{ this[3] }}" }{% if forloop.rindex != 2 %},{% endif %}{% endunless %}
    {% endfor %}
  ]
}
